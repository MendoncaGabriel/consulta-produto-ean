<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Leitor de código de barras</title>
</head>
<body>
  <div id="codigo"></div>
  <button id="ler">Ler código</button>
</body>
</html>

<script>
  const codigo = document.querySelector("#codigo");
const ler = document.querySelector("#ler");

async function lerCodigo() {
  // Obtém o detector de código de barras do navegador
  const detector = await navigator.mediaDevices.getUserMedia({
    video: true,
  });

  // Inicia o detector
  const scanner = new BarcodeScanner(detector);

  // Aguarda o código de barras ser detectado
  const resultado = await scanner.scan();

  // Fecha o detector
  detector.release();

  // Exibe o código de barras na tela
  codigo.textContent = resultado.code;

  // Exibe o código de barras em um alerta
  alert(resultado.code);
}

ler.addEventListener("click", lerCodigo);

</script>

<script>
  const scanner = new BarcodeScanner();

async function lerCodigo() {
  // Obtém o código de barras
  const resultado = await scanner.scan();

  // Exibe o código de barras na tela
  codigo.textContent = resultado.code;

  // Exibe o código de barras em um alerta
  alert(resultado.code);
}

ler.addEventListener("click", lerCodigo);

</script>